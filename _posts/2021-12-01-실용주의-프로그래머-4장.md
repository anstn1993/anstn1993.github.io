---
layout: post
title: 실용주의 프로그래머 4장 # Title of the page
hide_title: false # Hide the title when displaying the post, but shown in lists of poststhumbnail: "assets/img/thumbnails/sample-th.png"  # Add
color: brown # Add the specified color as feature image, and change link colors in post
author: "Mun Soo Kim"
tags: [기술]
---

앤드류 헌트, 데이비드 토머스의 [실용주의 프로그래머]라는 책을 읽고 개인적으로 정리한 포스트 입니다. '4장 실용주의 편집증'을 정리했습니다.

# 4장. 실용주의 편집증

---

### 21장. 계약에 의한 설계

정직한 거래를 보장하는 최선의 해법은 계약입니다. 계약의 당사자들은 모두 자신의 권리와 책임을 지고, 서로에게 기대한 바를 수행하도록 강제합니다. 이런 컨셉을 소프트웨어 모듈에도 적용하면 프로그램의 정확성을 높일 수 있습니다. 정확한 프로그램은 자신의 일이라고 주장하는 것에 대해 더 많지도, 적지도 않게 수행하는 것입니다. 그 주장을 문서화하고 검증하는 것이 바로 계약에 의한 설계(Design By Contract, DBC)입니다.
이 계약은 보통 함수, 메서드와 그것의 호출자 사이에 적용됩니다. 계약에 의한 설계 개념을 개발한 버트란드 마이어는 계약을 이행하기 위한 조건으로 다음 3가지를 말합니다.

- 선행조건: 루틴이 호출되기 위해 지켜져야 할 조건으로 이 조건이 위반된 경우에는 루틴이 호출되지 않아야 합니다. 즉 조건이 충족된 데이터를 루틴에 전달하는 것은 호출하는 쪽의 책임입니다.
- 후행조건: 루틴이 완료되었을 때의 상태를 의미합니다. 어떤 루틴에 후행조건이 있으면 그 루틴은 반드시 종료됨을 보장합니다.
- 클래스 불변식: 호출자의 입장에서 루틴이 종료되고 호출자로 제어권이 반환될 때 불변식이 항상 참임을 보장하는 것입니다. 루틴이 진행 중일 때는 불변식이 일시적으로 참이 아닐 수도 있습니다.

위의 조건을 정리하자면 만약 호출자가 루틴의 모든 선행조건을 이행한다면, 루틴은 종료시에 모든 호행조건과 불변식이 참이 될 것을 보장해야 하는 것입니다.

상속과 다형성에서도 이런 계약은 빛을 발합니다. 서브타입은 항상 부모 타입의 한 종류라는 간단한 사실을 잊지 않고 서브클래스에서는 자신의 부모 이상으로 받아들이고, 최소한 자신의 부모만큼은 보증해야 하는데 이런 규칙을 잘 이행하게 할 수 있습니다.
